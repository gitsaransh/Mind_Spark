<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="description"
    content="MindSpark - Improve logical thinking, reasoning, and decision-making through fun analytical puzzles. Train how to think, not memorization.">
  <meta name="keywords" content="thinking games, logic puzzles, analytical thinking, reasoning, brain training">
  <meta name="author" content="MindSpark">

  <!-- iOS Mobile Web App Settings -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="MindSpark">
  <meta name="theme-color" content="#1a202c">

  <title>MindSpark - Analytical Thinking Game</title>

  <!-- Open Graph / Social Sharing -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://mindspark-game.web.app/">
  <meta property="og:title" content="MindSpark - Analytical Thinking Game">
  <meta property="og:description"
    content="Train your critical thinking and logic skills with daily puzzles. No memory tests, just pure reasoning.">
  <meta property="og:image" content="https://mindspark-game.web.app/icons/social-preview.png">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:title" content="MindSpark - Analytical Thinking Game">
  <meta property="twitter:description" content="Train your critical thinking and logic skills with daily puzzles.">
  <meta property="twitter:image" content="https://mindspark-game.web.app/icons/social-preview.png">

  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css?v=2.3">
  <link rel="stylesheet" href="css/splash.css">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
</head>

<body>
  <!-- Enso Studio Splash Screen -->
  <div id="splash-screen" class="splash-screen">
    <div class="splash-logo-container">
      <div class="splash-logo"></div>
      <div class="splash-tagline">Developed by ENSO Studio</div>
    </div>
  </div>

  <div class="app-container">

    <!-- ============================================
         HOME SCREEN
         ============================================ -->
    <div id="home-screen" class="screen active">
      <div class="screen-content">
        <div class="logo">
          <h1>MindSpark</h1>
          <p>Train your thinking, not your memory</p>
        </div>

        <div class="card card-glass">
          <!-- Streak Display -->
          <div id="streak-display" class="streak-display">
            <span class="flame-icon">üî•</span>
            <span id="streak-number">0</span>
            <span style="font-size: 1rem; color: var(--color-text-muted);">day streak</span>
          </div>

          <!-- Streak Freezes -->
          <div id="freeze-display" class="freeze-display hidden">
            <div class="freeze-label">Streak Protection</div>
            <div class="freeze-icons" id="freeze-icons">
              <!-- Icons injected via JS -->
            </div>
            <div class="freeze-count" id="freeze-text">0/3 available</div>
          </div>

          <!-- Quick Stats -->
          <div class="stats-grid">
            <div class="stat-card">
              <span id="total-puzzles" class="stat-value">0</span>
              <span class="stat-label">Puzzles</span>
            </div>
            <div class="stat-card">
              <span id="accuracy-stat" class="stat-value">0%</span>
              <span class="stat-label">Accuracy</span>
            </div>
          </div>

          <!-- Ad Cooldown Progress (v2.0) -->
          <div id="ad-cooldown-container" class="ad-cooldown-container hidden">
            <div class="ad-cooldown-header">
              <span class="ad-cooldown-label">üì∫ Next Ad Available</span>
              <span class="ad-cooldown-status" id="ad-cooldown-status">Solve 5 puzzles</span>
            </div>
            <div class="ad-cooldown-progress-bar">
              <div class="ad-cooldown-progress-fill" id="ad-cooldown-progress"></div>
            </div>
            <div class="ad-cooldown-info">
              <span id="ad-count-today">0/6 ads today</span>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="home-actions">
            <button id="start-playing-btn" class="btn btn-primary btn-large btn-block">
              Start Playing
            </button>
            <button id="daily-challenge-btn" class="btn btn-accent btn-large btn-block">
              Daily Challenge ‚≠ê
            </button>
            <button id="view-progress-btn" class="btn btn-secondary btn-block">
              View Progress
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- ============================================
         MODE SELECTION SCREEN
         ============================================ -->
    <div id="mode-screen" class="screen">
      <div class="screen-content">
        <h2 class="text-center mb-lg">Choose Your Mode</h2>

        <div class="options-grid">
          <div class="option-card" data-mode="timed">
            <h3>‚è±Ô∏è Timed Mode</h3>
            <p>Race against the clock. Soft timer adds excitement without pressure.</p>
          </div>

          <div class="option-card" data-mode="relaxed">
            <h3>üßò Relaxed Mode</h3>
            <p>Take your time. Think deeply without any time constraints.</p>
          </div>

          <div class="option-card" data-mode="practice">
            <h3>üõ°Ô∏è Practice Mode</h3>
            <p>Risk-free training. Select categories and play without losing your streak.</p>
          </div>
        </div>

        <button id="mode-back-btn" class="btn btn-secondary btn-block mt-lg">
          ‚Üê Back
        </button>
      </div>
    </div>

    <div id="category-screen" class="screen">
      <div class="screen-content">
        <h2 class="text-center mb-lg">Choose Category</h2>

        <div class="options-grid">
          <div class="option-card" data-category="null">
            <h3>üé≤ Mixed Bag</h3>
            <p>A surprise mix of everything. Great for general training.</p>
          </div>

          <div class="option-card" data-category="logic">
            <h3>üí° Logic Puzzles</h3>
            <p>Riddles, lateral thinking, and deduction challenges.</p>
          </div>

          <div class="option-card" data-category="math">
            <h3>üî¢ Math & Numbers</h3>
            <p>Calculations, number patterns, and mathematical word problems.</p>
          </div>

          <div class="option-card" data-category="pattern">
            <h3>üß© Patterns</h3>
            <p>Visual sequences, number series, and abstract reasoning.</p>
          </div>
        </div>

        <button id="category-back-btn" class="btn btn-secondary btn-block mt-lg">
          ‚Üê Back
        </button>
      </div>
    </div>

    <!-- ============================================
         DIFFICULTY SELECTION SCREEN
         ============================================ -->
    <div id="difficulty-screen" class="screen">
      <div class="screen-content">
        <h2 class="text-center mb-lg">Choose Difficulty</h2>

        <div class="options-grid">
          <div class="option-card" data-difficulty="beginner">
            <h3>üå± Beginner</h3>
            <p>Clear logic, no ambiguity. Perfect for getting started.</p>
          </div>

          <div class="option-card" data-difficulty="intermediate">
            <h3>üåø Intermediate</h3>
            <p>Basic reasoning with 1-2 thinking steps. Moderate challenge.</p>
          </div>

          <div class="option-card" data-difficulty="expert">
            <h3>üå≥ Expert</h3>
            <p>Best-choice logic and trade-offs. For experienced thinkers.</p>
          </div>
        </div>

        <button id="difficulty-back-btn" class="btn btn-secondary btn-block mt-lg">
          ‚Üê Back
        </button>
      </div>
    </div>

    <!-- ============================================
         GAMEPLAY SCREEN
         ============================================ -->
    <div id="gameplay-screen" class="screen">
      <div class="screen-content">
        <!-- Puzzle Header -->
        <div class="puzzle-header">
          <button id="exit-game-btn" class="btn-text" aria-label="Exit Game">‚úï Exit</button>
          <div>
            <span id="puzzle-type-badge" class="badge badge-primary">Pattern</span>
            <span id="puzzle-difficulty-badge" class="badge badge-primary">Kid</span>
          </div>
          <div style="display: flex; align-items: center; gap: var(--space-sm);">
            <!-- Streak Points Indicator -->
            <div class="streak-points-indicator" id="streak-points-display">
              <span class="points-icon">üî•</span>
              <span class="points-value" id="points-value">0</span>
            </div>
            <!-- Timer -->
            <div id="timer-container" class="hidden">
              <div class="timer" id="timer-display">
                <span>‚è±Ô∏è</span>
                <span id="timer-value">60</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Puzzle Question -->
        <div class="puzzle-question">
          <h2 id="puzzle-question-text">Question will appear here</h2>
          <div class="puzzle-content">
            <p id="puzzle-content-text">Puzzle content will appear here</p>
          </div>
        </div>

        <!-- Hint Button -->
        <div style="text-align: center; margin: var(--space-md) 0;">
          <button id="hint-button" class="hint-button">
            üí° Get Hint
            <span class="hint-cost">
              <span>üî•</span>
              <span id="hint-cost-display">3</span>
            </span>
          </button>
        </div>

        <!-- Hint Display (hidden by default) -->
        <div id="hint-display-container" class="hidden">
          <!-- Hints will be dynamically inserted here -->
        </div>

        <!-- Answer Options -->
        <div class="options-grid" id="answer-options">
          <!-- Options will be dynamically inserted -->
        </div>

        <!-- Submit Button -->
        <button id="submit-answer-btn" class="btn btn-primary btn-large btn-block mt-lg" disabled>
          Submit Answer
        </button>
      </div>
    </div>

    <!-- ============================================
         RESULT SCREEN
         ============================================ -->
    <div id="result-screen" class="screen">
      <div class="screen-content">
        <!-- Result Icon -->
        <div id="result-icon" class="result-icon">
          ‚úÖ
        </div>

        <!-- Result Message -->
        <div class="result-message">
          <h2 id="result-title">Correct!</h2>
          <p id="result-message-text">Excellent reasoning!</p>
        </div>

        <!-- Stats -->
        <div class="stats-grid">
          <div class="stat-card">
            <span id="result-time" class="stat-value">30s</span>
            <span class="stat-label">Time Taken</span>
          </div>
          <div class="stat-card">
            <span id="result-streak" class="stat-value">5</span>
            <span class="stat-label">Streak</span>
          </div>
        </div>

        <!-- Explanation -->
        <div class="explanation-box">
          <h3>üí° Explanation</h3>
          <p id="explanation-text">The explanation will appear here.</p>
        </div>

        <!-- Share Button -->
        <div style="text-align: center;">
          <button class="share-button" id="share-achievement-btn">
            üì§ Share Achievement
          </button>
        </div>

        <!-- Actions -->
        <div class="home-actions">
          <button id="continue-btn" class="btn btn-primary btn-large btn-block">
            Continue ‚Üí
          </button>
          <button id="result-home-btn" class="btn btn-secondary btn-block">
            Back to Home
          </button>
        </div>
      </div>
    </div>

    <!-- ============================================
         PROGRESS SCREEN
         ============================================ -->
    <div id="progress-screen" class="screen">
      <div class="screen-content">
        <h2 class="text-center mb-lg">Your Progress</h2>

        <!-- Session Stats Card (v2.0) -->
        <div class="card card-glass mb-lg" id="session-stats-card" style="display: none;">
          <h3 class="mb-md">üìä This Session</h3>
          <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
            <div class="stat-card">
              <span id="session-attempted" class="stat-value">0</span>
              <span class="stat-label">Attempted</span>
            </div>
            <div class="stat-card">
              <span id="session-cleared" class="stat-value" style="color: #4ade80;">0</span>
              <span class="stat-label">Cleared</span>
            </div>
            <div class="stat-card">
              <span id="session-failed" class="stat-value" style="color: #f87171;">0</span>
              <span class="stat-label">Failed</span>
            </div>
          </div>
          <div class="stats-grid mt-md">
            <div class="stat-card">
              <span id="session-accuracy" class="stat-value">0%</span>
              <span class="stat-label">Accuracy</span>
            </div>
            <div class="stat-card">
              <span id="session-duration" class="stat-value">0m 0s</span>
              <span class="stat-label">Duration</span>
            </div>
            <div class="stat-card">
              <span id="session-best-streak" class="stat-value">0</span>
              <span class="stat-label">Best Streak</span>
            </div>
          </div>
        </div>

        <div class="card card-glass mb-lg">
          <!-- Streak -->
          <div class="streak-display">
            <span class="flame-icon">üî•</span>
            <span id="progress-streak">0</span>
            <span style="font-size: 1rem; color: var(--color-text-muted);">day streak</span>
          </div>

          <!-- Main Stats -->
          <div class="stats-grid">
            <div class="stat-card">
              <span id="progress-total-puzzles" class="stat-value">0</span>
              <span class="stat-label">Total Puzzles</span>
            </div>
            <div class="stat-card">
              <span id="progress-longest-streak" class="stat-value">0</span>
              <span class="stat-label">Longest Streak</span>
            </div>
          </div>
        </div>

        <!-- Accuracy by Difficulty -->
        <div class="card card-glass mb-lg">
          <h3 class="mb-md">Accuracy by Difficulty</h3>

          <div class="mb-md">
            <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-xs);">
              <span>Beginner</span>
              <span id="accuracy-beginner">0%</span>
            </div>
            <div class="progress-bar">
              <div id="progress-beginner" class="progress-fill" style="width: 0%"></div>
            </div>
          </div>

          <div class="mb-md">
            <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-xs);">
              <span>Intermediate</span>
              <span id="accuracy-intermediate">0%</span>
            </div>
            <div class="progress-bar">
              <div id="progress-intermediate" class="progress-fill" style="width: 0%"></div>
            </div>
          </div>

          <div>
            <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-xs);">
              <span>Expert</span>
              <span id="accuracy-expert">0%</span>
            </div>
            <div class="progress-bar">
              <div id="progress-expert" class="progress-fill" style="width: 0%"></div>
            </div>
          </div>
        </div>

        <!-- Achivements / Badges (v2.1) -->
        <div class="card card-glass mb-lg">
          <h3 class="mb-md">Achievements üèÜ</h3>
          <div id="badges-grid" class="badges-grid">
            <!-- Badges will be inserted here -->
            <p style="text-align: center; color: var(--color-text-muted); width: 100%;">
              Solve puzzles to unlock badges!
            </p>
          </div>
        </div>

        <!-- Additional Stats -->
        <div class="card card-glass mb-lg">
          <h3 class="mb-md">Performance</h3>
          <div class="stats-grid">
            <div class="stat-card">
              <span id="avg-time" class="stat-value">45s</span>
              <span class="stat-label">Avg Time</span>
            </div>
            <div class="stat-card">
              <span id="total-time" class="stat-value">0m</span>
              <span class="stat-label">Total Time</span>
            </div>
          </div>
        </div>

        <button id="progress-back-btn" class="btn btn-secondary btn-block">
          ‚Üê Back to Home
        </button>
      </div>
    </div>

  </div>

  <!-- Settings Button -->
  <div class="settings-button" id="settings-button" title="Settings">
    ‚öôÔ∏è
  </div>

  <!-- Settings Panel -->
  <div class="settings-panel" id="settings-panel">
    <div class="settings-header">
      <h2>Settings</h2>
      <button class="settings-close" id="settings-close">‚úï</button>
    </div>

    <div class="settings-section">
      <h3>Audio & Haptics</h3>
      <div class="settings-option">
        <div class="settings-option-label">
          <strong>Sound Effects</strong>
          <span>Play sounds for actions and feedback</span>
        </div>
        <div class="toggle-switch active" id="sound-toggle"></div>
      </div>
      <div class="settings-option">
        <div class="settings-option-label">
          <strong>Haptic Feedback</strong>
          <span>Vibration feedback on mobile devices</span>
        </div>
        <div class="toggle-switch active" id="haptic-toggle"></div>
      </div>
    </div>

    <div class="settings-section">
      <h3>Tutorial</h3>
      <button class="btn btn-secondary btn-block" id="replay-tutorial-btn">
        Replay Tutorial
      </button>
    </div>

    <div class="settings-section">
      <h3>Feedback</h3>
      <button class="btn btn-secondary btn-block" id="feedback-btn">
        üí¨ Send Feedback
      </button>
    </div>

    <div class="settings-section">
      <h3>About</h3>
      <p style="color: var(--color-text-muted); font-size: 0.875rem;">
        MindSpark v1.0<br>
        Train your thinking, not your memory
      </p>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/puzzles.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/ads.js"></script>
  <script src="js/analytics.js"></script>
  <script src="js/sounds.js"></script>
  <script src="js/tutorial.js"></script>
  <script src="js/share.js"></script>
  <script src="js/badges.js"></script>
  <script src="js/hints.js"></script>
  <script src="js/gameEngine.js"></script>
  <script src="js/app.js"></script>
</body>

</html>